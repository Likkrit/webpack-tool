var fs=require("fs"),path=require("path"),rules=[],travel=function(e){fs.readdirSync(e).forEach(function(r){var l=path.join(e,r);fs.statSync(l).isDirectory()?travel(l):fileReplace(l)})},fileReplace=function(e){for(var r=fs.readFileSync(e,"utf-8"),l=r,t=0;t<rules.length;t++)l=l.replace(new RegExp(rules[t].key,"ig"),"$1"+rules[t].paddingLeft+"$2$3");fs.writeFileSync(e,l)},parseKey=function(e){for(var r,l,t,a=0;a<e.rules.length;a++)r=e.rules[a],l="(=.)("+r.content.replace(/\//g,"\\/")+")",l+="(.+.("+r.suffix+"))",t={key:l,paddingLeft:e.rules[a].paddingLeft},rules.push(t),console.log("replace all HTML files with : "+l)};module.exports=function(e){e=e||{},parseKey(e),travel(e.path||"./dist")};